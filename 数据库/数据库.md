ACID:

​	A: Atomicity 原子性

​	C: Consistency 一致性

​	I: Isolation 隔离性

​	D: Durability 持久性



并发事务带来的问题：

1. 脏读：读未提交, A事务访问并修改数据，未提交时B事务读到了修改后的数据

2. 丢失修改: A,B 都读取并修改同一数据，A修改, B修改，最终结果A的修改结果丢失
3.  不可重复读：A多次读同一数据，过程中B修改了该数据,导致A的几次读取结果不一致

4. 幻读：A读取数据时B对数据进行了增加, A读到一下原本不存在的数据

解决不可重复读和解决幻读的方案不一样：

​	执行delete和update操作的时候，可以直接对记录加锁，保证事务安全(不可重复读)

​	执行insert操作时，依赖Next-key Lock(Record Lock + Gap Lock)进行加锁，避免新插入记录(幻读)





SQL事务隔离级别：

1. READ-UNCOMMITTED(读未提交)： 最低的隔离级别，允许读取尚未提交的数据变更，可能导致脏读，幻读，不可重复读
2. READ-COMMITTED(读取已提交)：允许读取并发事务已经提交的数据，可以阻止脏读，但是幻读或不可重复读仍有可能发生
3. REPEATABLE-READ(可重复读)：对同一字段的多次读取结果都是一致的，除非数据是被本身事务自己所修改，可以阻止脏读和不可重复读，但幻读仍可能发生
4. SERIALIZABLE(可串行化)： 最高的隔离级别，完全服从ACID的隔离级别。所有事务串行执行，不会发生干扰，可以防止脏读、不可重复读、幻读。





1. 插入意向锁是一个特殊的间隙锁(行级锁), 不属于意向锁(表锁)
2. 插入意向锁之间不互斥
3. 插入意向锁和排他锁(X锁, 写锁)之间互斥